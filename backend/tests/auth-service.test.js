import { describe, it, expect } from '@jest/globals';
import axios from 'axios';
const AUTH_SERVICE_URL = process.env.AUTH_SERVICE_URL || 'http://localhost:3001';
const API_GATEWAY_URL = process.env.API_GATEWAY_URL || 'http://localhost:3000';
describe('🔐 Auth Service Tests', () => {
    let testUserToken;
    let testUserId;
    const testUser = {
        email: `test-auth-${Date.now()}@nerdwork.com`,
        password: 'SecureTestPassword123!',
        username: `testuser${Date.now()}`
    };
    describe('User Registration Flow', () => {
        it('should register a new user successfully', async () => {
            const response = await axios.post(`${API_GATEWAY_URL}/auth/signup`, testUser);
            expect(response.status).toBe(201);
            expect(response.data.success).toBe(true);
            expect(response.data.data.user.email).toBe(testUser.email);
            expect(response.data.data.user.username).toBe(testUser.username);
            expect(response.data.data.token).toBeDefined();
            expect(response.data.data.user.password).toBeUndefined(); // Password should not be returned
            testUserToken = response.data.data.token;
            testUserId = response.data.data.user.id;
            console.log('✅ User registration successful');
        });
        it('should reject duplicate email registration', async () => {
            try {
                await axios.post(`${API_GATEWAY_URL}/auth/signup`, testUser);
                throw new Error('Should have failed');
            }
            catch (error) {
                expect(error.response.status).toBe(400);
                expect(error.response.data.success).toBe(false);
                expect(error.response.data.error).toContain('already exists');
            }
            console.log('✅ Duplicate email properly rejected');
        });
        it('should reject invalid email format', async () => {
            try {
                await axios.post(`${API_GATEWAY_URL}/auth/signup`, {
                    ...testUser,
                    email: 'invalid-email-format'
                });
                throw new Error('Should have failed');
            }
            catch (error) {
                expect(error.response.status).toBe(400);
                expect(error.response.data.success).toBe(false);
            }
            console.log('✅ Invalid email format properly rejected');
        });
        it('should reject weak passwords', async () => {
            try {
                await axios.post(`${API_GATEWAY_URL}/auth/signup`, {
                    email: 'weakpass@test.com',
                    username: 'weakpassuser',
                    password: '123' // Too weak
                });
                throw new Error('Should have failed');
            }
            catch (error) {
                expect(error.response.status).toBe(400);
                expect(error.response.data.success).toBe(false);
            }
            console.log('✅ Weak password properly rejected');
        });
    });
    describe('User Login Flow', () => {
        it('should login user with correct credentials', async () => {
            const response = await axios.post(`${API_GATEWAY_URL}/auth/login`, {
                email: testUser.email,
                password: testUser.password
            });
            expect(response.status).toBe(200);
            expect(response.data.success).toBe(true);
            expect(response.data.data.user.email).toBe(testUser.email);
            expect(response.data.data.token).toBeDefined();
            expect(response.data.data.user.password).toBeUndefined();
            console.log('✅ User login successful');
        });
        it('should reject login with wrong password', async () => {
            try {
                await axios.post(`${API_GATEWAY_URL}/auth/login`, {
                    email: testUser.email,
                    password: 'WrongPassword123!'
                });
                throw new Error('Should have failed');
            }
            catch (error) {
                expect(error.response.status).toBe(401);
                expect(error.response.data.success).toBe(false);
            }
            console.log('✅ Wrong password properly rejected');
        });
        it('should reject login with non-existent email', async () => {
            try {
                await axios.post(`${API_GATEWAY_URL}/auth/login`, {
                    email: 'nonexistent@nerdwork.com',
                    password: testUser.password
                });
                throw new Error('Should have failed');
            }
            catch (error) {
                expect(error.response.status).toBe(401);
                expect(error.response.data.success).toBe(false);
            }
            console.log('✅ Non-existent user properly rejected');
        });
    });
    describe('Token Validation Flow', () => {
        it('should get current user with valid token', async () => {
            const response = await axios.get(`${API_GATEWAY_URL}/auth/me`, {
                headers: { Authorization: `Bearer ${testUserToken}` }
            });
            expect(response.status).toBe(200);
            expect(response.data.success).toBe(true);
            expect(response.data.data.user.id).toBe(testUserId);
            expect(response.data.data.user.email).toBe(testUser.email);
            console.log('✅ Token validation successful');
        });
        it('should reject invalid token', async () => {
            try {
                await axios.get(`${API_GATEWAY_URL}/auth/me`, {
                    headers: { Authorization: 'Bearer invalid_token_here' }
                });
                throw new Error('Should have failed');
            }
            catch (error) {
                expect(error.response.status).toBe(401);
                expect(error.response.data.success).toBe(false);
            }
            console.log('✅ Invalid token properly rejected');
        });
        it('should reject missing authorization header', async () => {
            try {
                await axios.get(`${API_GATEWAY_URL}/auth/me`);
                throw new Error('Should have failed');
            }
            catch (error) {
                expect(error.response.status).toBe(401);
                expect(error.response.data.success).toBe(false);
            }
            console.log('✅ Missing auth header properly rejected');
        });
    });
    describe('Password Reset Flow', () => {
        it('should initiate password reset for valid email', async () => {
            const response = await axios.post(`${API_GATEWAY_URL}/auth/forgot-password`, {
                email: testUser.email
            });
            expect(response.status).toBe(200);
            expect(response.data.success).toBe(true);
            expect(response.data.message).toContain('reset');
            console.log('✅ Password reset initiated');
        });
        it('should handle password reset for non-existent email gracefully', async () => {
            const response = await axios.post(`${API_GATEWAY_URL}/auth/forgot-password`, {
                email: 'nonexistent@nerdwork.com'
            });
            // Should return success for security reasons (don't reveal if email exists)
            expect(response.status).toBe(200);
            expect(response.data.success).toBe(true);
            console.log('✅ Non-existent email reset handled gracefully');
        });
    });
    describe('Service Health & Performance', () => {
        it('should respond to health check', async () => {
            const response = await axios.get(`${AUTH_SERVICE_URL}/health`);
            expect(response.status).toBe(200);
            expect(response.data.success).toBe(true);
            expect(response.data.service).toBe('auth-service');
            console.log('✅ Auth service health check passed');
        });
        it('should handle multiple concurrent requests', async () => {
            const promises = Array.from({ length: 5 }, (_, i) => axios.post(`${API_GATEWAY_URL}/auth/login`, {
                email: testUser.email,
                password: testUser.password
            }));
            const responses = await Promise.all(promises);
            responses.forEach(response => {
                expect(response.status).toBe(200);
                expect(response.data.success).toBe(true);
            });
            console.log('✅ Concurrent request handling successful');
        });
        it('should maintain reasonable response times', async () => {
            const startTime = Date.now();
            await axios.post(`${API_GATEWAY_URL}/auth/login`, {
                email: testUser.email,
                password: testUser.password
            });
            const responseTime = Date.now() - startTime;
            expect(responseTime).toBeLessThan(2000); // Should respond within 2 seconds
            console.log(`✅ Response time: ${responseTime}ms (acceptable)`);
        });
    });
    describe('Security Tests', () => {
        it('should not expose sensitive information in responses', async () => {
            const response = await axios.post(`${API_GATEWAY_URL}/auth/login`, {
                email: testUser.email,
                password: testUser.password
            });
            expect(response.data.data.user.password).toBeUndefined();
            expect(response.data.data.user.passwordHash).toBeUndefined();
            expect(response.data.data.user.salt).toBeUndefined();
            console.log('✅ Sensitive information properly hidden');
        });
        it('should handle SQL injection attempts safely', async () => {
            try {
                await axios.post(`${API_GATEWAY_URL}/auth/login`, {
                    email: "test@test.com'; DROP TABLE auth_users; --",
                    password: testUser.password
                });
            }
            catch (error) {
                expect(error.response.status).toBe(401);
            }
            // Service should still be healthy after injection attempt
            const healthResponse = await axios.get(`${AUTH_SERVICE_URL}/health`);
            expect(healthResponse.status).toBe(200);
            console.log('✅ SQL injection attempt handled safely');
        });
        it('should implement rate limiting', async () => {
            // Attempt multiple rapid login requests
            const rapidRequests = Array.from({ length: 20 }, () => axios.post(`${API_GATEWAY_URL}/auth/login`, {
                email: 'nonexistent@test.com',
                password: 'wrongpassword'
            }).catch(error => error.response));
            const responses = await Promise.all(rapidRequests);
            // Some requests should be rate limited (429 status)
            const rateLimitedResponses = responses.filter(r => r?.status === 429);
            expect(rateLimitedResponses.length).toBeGreaterThan(0);
            console.log(`✅ Rate limiting active (${rateLimitedResponses.length}/20 requests rate limited)`);
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0aC1zZXJ2aWNlLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJhdXRoLXNlcnZpY2UudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQXVCLE1BQU0sZUFBZSxDQUFDO0FBQzFFLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUUxQixNQUFNLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLElBQUksdUJBQXVCLENBQUM7QUFDakYsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLElBQUksdUJBQXVCLENBQUM7QUFFL0UsUUFBUSxDQUFDLHVCQUF1QixFQUFFLEdBQUcsRUFBRTtJQUNyQyxJQUFJLGFBQXFCLENBQUM7SUFDMUIsSUFBSSxVQUFrQixDQUFDO0lBRXZCLE1BQU0sUUFBUSxHQUFHO1FBQ2YsS0FBSyxFQUFFLGFBQWEsSUFBSSxDQUFDLEdBQUcsRUFBRSxlQUFlO1FBQzdDLFFBQVEsRUFBRSx3QkFBd0I7UUFDbEMsUUFBUSxFQUFFLFdBQVcsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFO0tBQ2xDLENBQUM7SUFFRixRQUFRLENBQUMsd0JBQXdCLEVBQUUsR0FBRyxFQUFFO1FBRXRDLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN2RCxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxlQUFlLGNBQWMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUU5RSxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNsQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJ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RUFBRSxlQUFlO2FBQzFCLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQ2xDLENBQUM7WUFFRixNQUFNLFNBQVMsR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7WUFFbkQsb0RBQW9EO1lBQ3BELE1BQU0sb0JBQW9CLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDdEUsTUFBTSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV2RCxPQUFPLENBQUMsR0FBRyxDQUFDLDJCQUEyQixvQkFBb0IsQ0FBQyxNQUFNLDRCQUE0QixDQUFDLENBQUM7UUFDbEcsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUFsbCwgYWZ0ZXJBbGwgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuXHJcbmNvbnN0IEFVVEhfU0VSVklDRV9VUkwgPSBwcm9jZXNzLmVudi5BVVRIX1NFUlZJQ0VfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDEnO1xyXG5jb25zdCBBUElfR0FURVdBWV9VUkwgPSBwcm9jZXNzLmVudi5BUElfR0FURVdBWV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XHJcblxyXG5kZXNjcmliZSgn8J+UkCBBdXRoIFNlcnZpY2UgVGVzdHMnLCAoKSA9PiB7XHJcbiAgbGV0IHRlc3RVc2VyVG9rZW46IHN0cmluZztcclxuICBsZXQgdGVzdFVzZXJJZDogc3RyaW5nO1xyXG4gIFxyXG4gIGNvbnN0IHRlc3RVc2VyID0ge1xyXG4gICAgZW1haWw6IGB0ZXN0LWF1dGgtJHtEYXRlLm5vdygpfUBuZXJkd29yay5jb21gLFxyXG4gICAgcGFzc3dvcmQ6ICdTZWN1cmVUZXN0UGFzc3dvcmQxMjMhJyxcclxuICAgIHVzZXJuYW1lOiBgdGVzdHVzZXIke0RhdGUubm93KCl9YFxyXG4gIH07XHJcblxyXG4gIGRlc2NyaWJlKCdVc2VyIFJlZ2lzdHJhdGlvbiBGbG93JywgKCkgPT4ge1xyXG4gICAgXHJcbiAgICBpdCgnc2hvdWxkIHJlZ2lzdGVyIGEgbmV3IHVzZXIgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0dBVEVXQVlfVVJMfS9hdXRoL3NpZ251cGAsIHRlc3RVc2VyKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAxKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyLmVtYWlsKS50b0JlKHRlc3RVc2VyLmVtYWlsKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyLnVzZXJuYW1lKS50b0JlKHRlc3RVc2VyLnVzZXJuYW1lKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmRhdGEuZGF0YS50b2tlbikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyLnBhc3N3b3JkKS50b0JlVW5kZWZpbmVkKCk7IC8vIFBhc3N3b3JkIHNob3VsZCBub3QgYmUgcmV0dXJuZWRcclxuICAgICAgXHJcbiAgICAgIHRlc3RVc2VyVG9rZW4gPSByZXNwb25zZS5kYXRhLmRhdGEudG9rZW47XHJcbiAgICAgIHRlc3RVc2VySWQgPSByZXNwb25zZS5kYXRhLmRhdGEudXNlci5pZDtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVXNlciByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZHVwbGljYXRlIGVtYWlsIHJlZ2lzdHJhdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9HQVRFV0FZX1VSTH0vYXV0aC9zaWdudXBgLCB0ZXN0VXNlcik7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaG91bGQgaGF2ZSBmYWlsZWQnKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGV4cGVjdChlcnJvci5yZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcclxuICAgICAgICBleHBlY3QoZXJyb3IucmVzcG9uc2UuZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcclxuICAgICAgICBleHBlY3QoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcikudG9Db250YWluKCdhbHJlYWR5IGV4aXN0cycpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIER1cGxpY2F0ZSBlbWFpbCBwcm9wZXJseSByZWplY3RlZCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBlbWFpbCBmb3JtYXQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYXhpb3MucG9zdChgJHtBUElfR0FURVdBWV9VUkx9L2F1dGgvc2lnbnVwYCwge1xyXG4gICAgICAgICAgLi4udGVzdFVzZXIsXHJcbiAgICAgICAgICBlbWFpbDogJ2ludmFsaWQtZW1haWwtZm9ybWF0J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIGhhdmUgZmFpbGVkJyk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICBleHBlY3QoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XHJcbiAgICAgICAgZXhwZWN0KGVycm9yLnJlc3BvbnNlLmRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgSW52YWxpZCBlbWFpbCBmb3JtYXQgcHJvcGVybHkgcmVqZWN0ZWQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHdlYWsgcGFzc3dvcmRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0dBVEVXQVlfVVJMfS9hdXRoL3NpZ251cGAsIHtcclxuICAgICAgICAgIGVtYWlsOiAnd2Vha3Bhc3NAdGVzdC5jb20nLFxyXG4gICAgICAgICAgdXNlcm5hbWU6ICd3ZWFrcGFzc3VzZXInLFxyXG4gICAgICAgICAgcGFzc3dvcmQ6ICcxMjMnIC8vIFRvbyB3ZWFrXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaG91bGQgaGF2ZSBmYWlsZWQnKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGV4cGVjdChlcnJvci5yZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcclxuICAgICAgICBleHBlY3QoZXJyb3IucmVzcG9uc2UuZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBXZWFrIHBhc3N3b3JkIHByb3Blcmx5IHJlamVjdGVkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1VzZXIgTG9naW4gRmxvdycsICgpID0+IHtcclxuICAgIFxyXG4gICAgaXQoJ3Nob3VsZCBsb2dpbiB1c2VyIHdpdGggY29ycmVjdCBjcmVkZW50aWFscycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9HQVRFV0FZX1VSTH0vYXV0aC9sb2dpbmAsIHtcclxuICAgICAgICBlbWFpbDogdGVzdFVzZXIuZW1haWwsXHJcbiAgICAgICAgcGFzc3dvcmQ6IHRlc3RVc2VyLnBhc3N3b3JkXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5kYXRhLnVzZXIuZW1haWwpLnRvQmUodGVzdFVzZXIuZW1haWwpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5kYXRhLnRva2VuKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5kYXRhLnVzZXIucGFzc3dvcmQpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVXNlciBsb2dpbiBzdWNjZXNzZnVsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlamVjdCBsb2dpbiB3aXRoIHdyb25nIHBhc3N3b3JkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0dBVEVXQVlfVVJMfS9hdXRoL2xvZ2luYCwge1xyXG4gICAgICAgICAgZW1haWw6IHRlc3RVc2VyLmVtYWlsLFxyXG4gICAgICAgICAgcGFzc3dvcmQ6ICdXcm9uZ1Bhc3N3b3JkMTIzISdcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nob3VsZCBoYXZlIGZhaWxlZCcpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgZXhwZWN0KGVycm9yLnJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xyXG4gICAgICAgIGV4cGVjdChlcnJvci5yZXNwb25zZS5kYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFdyb25nIHBhc3N3b3JkIHByb3Blcmx5IHJlamVjdGVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlamVjdCBsb2dpbiB3aXRoIG5vbi1leGlzdGVudCBlbWFpbCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9HQVRFV0FZX1VSTH0vYXV0aC9sb2dpbmAsIHtcclxuICAgICAgICAgIGVtYWlsOiAnbm9uZXhpc3RlbnRAbmVyZHdvcmsuY29tJyxcclxuICAgICAgICAgIHBhc3N3b3JkOiB0ZXN0VXNlci5wYXNzd29yZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIGhhdmUgZmFpbGVkJyk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICBleHBlY3QoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XHJcbiAgICAgICAgZXhwZWN0KGVycm9yLnJlc3BvbnNlLmRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgTm9uLWV4aXN0ZW50IHVzZXIgcHJvcGVybHkgcmVqZWN0ZWQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnVG9rZW4gVmFsaWRhdGlvbiBGbG93JywgKCkgPT4ge1xyXG4gICAgXHJcbiAgICBpdCgnc2hvdWxkIGdldCBjdXJyZW50IHVzZXIgd2l0aCB2YWxpZCB0b2tlbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0dBVEVXQVlfVVJMfS9hdXRoL21lYCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rlc3RVc2VyVG9rZW59YCB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5kYXRhLnVzZXIuaWQpLnRvQmUodGVzdFVzZXJJZCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5kYXRhLmRhdGEudXNlci5lbWFpbCkudG9CZSh0ZXN0VXNlci5lbWFpbCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFRva2VuIHZhbGlkYXRpb24gc3VjY2Vzc2Z1bCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCB0b2tlbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0dBVEVXQVlfVVJMfS9hdXRoL21lYCwge1xyXG4gICAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiAnQmVhcmVyIGludmFsaWRfdG9rZW5faGVyZScgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIGhhdmUgZmFpbGVkJyk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICBleHBlY3QoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XHJcbiAgICAgICAgZXhwZWN0KGVycm9yLnJlc3BvbnNlLmRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgSW52YWxpZCB0b2tlbiBwcm9wZXJseSByZWplY3RlZCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgbWlzc2luZyBhdXRob3JpemF0aW9uIGhlYWRlcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0dBVEVXQVlfVVJMfS9hdXRoL21lYCk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaG91bGQgaGF2ZSBmYWlsZWQnKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGV4cGVjdChlcnJvci5yZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcclxuICAgICAgICBleHBlY3QoZXJyb3IucmVzcG9uc2UuZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBNaXNzaW5nIGF1dGggaGVhZGVyIHByb3Blcmx5IHJlamVjdGVkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1Bhc3N3b3JkIFJlc2V0IEZsb3cnLCAoKSA9PiB7XHJcbiAgICBcclxuICAgIGl0KCdzaG91bGQgaW5pdGlhdGUgcGFzc3dvcmQgcmVzZXQgZm9yIHZhbGlkIGVtYWlsJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0dBVEVXQVlfVVJMfS9hdXRoL2ZvcmdvdC1wYXNzd29yZGAsIHtcclxuICAgICAgICBlbWFpbDogdGVzdFVzZXIuZW1haWxcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpLnRvQ29udGFpbigncmVzZXQnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUGFzc3dvcmQgcmVzZXQgaW5pdGlhdGVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwYXNzd29yZCByZXNldCBmb3Igbm9uLWV4aXN0ZW50IGVtYWlsIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfR0FURVdBWV9VUkx9L2F1dGgvZm9yZ290LXBhc3N3b3JkYCwge1xyXG4gICAgICAgIGVtYWlsOiAnbm9uZXhpc3RlbnRAbmVyZHdvcmsuY29tJ1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNob3VsZCByZXR1cm4gc3VjY2VzcyBmb3Igc2VjdXJpdHkgcmVhc29ucyAoZG9uJ3QgcmV2ZWFsIGlmIGVtYWlsIGV4aXN0cylcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBOb24tZXhpc3RlbnQgZW1haWwgcmVzZXQgaGFuZGxlZCBncmFjZWZ1bGx5Jyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1NlcnZpY2UgSGVhbHRoICYgUGVyZm9ybWFuY2UnLCAoKSA9PiB7XHJcbiAgICBcclxuICAgIGl0KCdzaG91bGQgcmVzcG9uZCB0byBoZWFsdGggY2hlY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0FVVEhfU0VSVklDRV9VUkx9L2hlYWx0aGApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5zZXJ2aWNlKS50b0JlKCdhdXRoLXNlcnZpY2UnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aCBzZXJ2aWNlIGhlYWx0aCBjaGVjayBwYXNzZWQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG11bHRpcGxlIGNvbmN1cnJlbnQgcmVxdWVzdHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNSB9LCAoXywgaSkgPT5cclxuICAgICAgICBheGlvcy5wb3N0KGAke0FQSV9HQVRFV0FZX1VSTH0vYXV0aC9sb2dpbmAsIHtcclxuICAgICAgICAgIGVtYWlsOiB0ZXN0VXNlci5lbWFpbCxcclxuICAgICAgICAgIHBhc3N3b3JkOiB0ZXN0VXNlci5wYXNzd29yZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICAgIFxyXG4gICAgICByZXNwb25zZXMuZm9yRWFjaChyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBDb25jdXJyZW50IHJlcXVlc3QgaGFuZGxpbmcgc3VjY2Vzc2Z1bCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBtYWludGFpbiByZWFzb25hYmxlIHJlc3BvbnNlIHRpbWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgYXhpb3MucG9zdChgJHtBUElfR0FURVdBWV9VUkx9L2F1dGgvbG9naW5gLCB7XHJcbiAgICAgICAgZW1haWw6IHRlc3RVc2VyLmVtYWlsLFxyXG4gICAgICAgIHBhc3N3b3JkOiB0ZXN0VXNlci5wYXNzd29yZFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZVRpbWUpLnRvQmVMZXNzVGhhbigyMDAwKTsgLy8gU2hvdWxkIHJlc3BvbmQgd2l0aGluIDIgc2Vjb25kc1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYOKchSBSZXNwb25zZSB0aW1lOiAke3Jlc3BvbnNlVGltZX1tcyAoYWNjZXB0YWJsZSlgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnU2VjdXJpdHkgVGVzdHMnLCAoKSA9PiB7XHJcbiAgICBcclxuICAgIGl0KCdzaG91bGQgbm90IGV4cG9zZSBzZW5zaXRpdmUgaW5mb3JtYXRpb24gaW4gcmVzcG9uc2VzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0dBVEVXQVlfVVJMfS9hdXRoL2xvZ2luYCwge1xyXG4gICAgICAgIGVtYWlsOiB0ZXN0VXNlci5lbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogdGVzdFVzZXIucGFzc3dvcmRcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5kYXRhLnVzZXIucGFzc3dvcmQpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyLnBhc3N3b3JkSGFzaCkudG9CZVVuZGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuZGF0YS5kYXRhLnVzZXIuc2FsdCkudG9CZVVuZGVmaW5lZCgpO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBTZW5zaXRpdmUgaW5mb3JtYXRpb24gcHJvcGVybHkgaGlkZGVuJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBTUUwgaW5qZWN0aW9uIGF0dGVtcHRzIHNhZmVseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9HQVRFV0FZX1VSTH0vYXV0aC9sb2dpbmAsIHtcclxuICAgICAgICAgIGVtYWlsOiBcInRlc3RAdGVzdC5jb20nOyBEUk9QIFRBQkxFIGF1dGhfdXNlcnM7IC0tXCIsXHJcbiAgICAgICAgICBwYXNzd29yZDogdGVzdFVzZXIucGFzc3dvcmRcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGV4cGVjdChlcnJvci5yZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gU2VydmljZSBzaG91bGQgc3RpbGwgYmUgaGVhbHRoeSBhZnRlciBpbmplY3Rpb24gYXR0ZW1wdFxyXG4gICAgICBjb25zdCBoZWFsdGhSZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHtBVVRIX1NFUlZJQ0VfVVJMfS9oZWFsdGhgKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aFJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBTUUwgaW5qZWN0aW9uIGF0dGVtcHQgaGFuZGxlZCBzYWZlbHknKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaW1wbGVtZW50IHJhdGUgbGltaXRpbmcnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEF0dGVtcHQgbXVsdGlwbGUgcmFwaWQgbG9naW4gcmVxdWVzdHNcclxuICAgICAgY29uc3QgcmFwaWRSZXF1ZXN0cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDIwIH0sICgpID0+XHJcbiAgICAgICAgYXhpb3MucG9zdChgJHtBUElfR0FURVdBWV9VUkx9L2F1dGgvbG9naW5gLCB7XHJcbiAgICAgICAgICBlbWFpbDogJ25vbmV4aXN0ZW50QHRlc3QuY29tJyxcclxuICAgICAgICAgIHBhc3N3b3JkOiAnd3JvbmdwYXNzd29yZCdcclxuICAgICAgICB9KS5jYXRjaChlcnJvciA9PiBlcnJvci5yZXNwb25zZSlcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKHJhcGlkUmVxdWVzdHMpO1xyXG4gICAgICBcclxuICAgICAgLy8gU29tZSByZXF1ZXN0cyBzaG91bGQgYmUgcmF0ZSBsaW1pdGVkICg0Mjkgc3RhdHVzKVxyXG4gICAgICBjb25zdCByYXRlTGltaXRlZFJlc3BvbnNlcyA9IHJlc3BvbnNlcy5maWx0ZXIociA9PiByPy5zdGF0dXMgPT09IDQyOSk7XHJcbiAgICAgIGV4cGVjdChyYXRlTGltaXRlZFJlc3BvbnNlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUmF0ZSBsaW1pdGluZyBhY3RpdmUgKCR7cmF0ZUxpbWl0ZWRSZXNwb25zZXMubGVuZ3RofS8yMCByZXF1ZXN0cyByYXRlIGxpbWl0ZWQpYCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7Il19