import { drizzle } from 'drizzle-orm/neon-http';
import { neon } from '@neondatabase/serverless';
import * as fileSchema from '../model/file.js';
if (!process.env.DATABASE_URL) {
    throw new Error('DATABASE_URL must be set');
}
const sql = neon(process.env.DATABASE_URL);
export const db = drizzle(sql, {
    schema: { ...fileSchema },
});
export default db;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkYi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDaEQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ2hELE9BQU8sS0FBSyxVQUFVLE1BQU0sa0JBQWtCLENBQUM7QUFFL0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDOUIsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQzlDLENBQUM7QUFFRCxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUMzQyxNQUFNLENBQUMsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRTtJQUM3QixNQUFNLEVBQUUsRUFBRSxHQUFHLFVBQVUsRUFBRTtDQUMxQixDQUFDLENBQUM7QUFFSCxlQUFlLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRyaXp6bGUgfSBmcm9tICdkcml6emxlLW9ybS9uZW9uLWh0dHAnO1xyXG5pbXBvcnQgeyBuZW9uIH0gZnJvbSAnQG5lb25kYXRhYmFzZS9zZXJ2ZXJsZXNzJztcclxuaW1wb3J0ICogYXMgZmlsZVNjaGVtYSBmcm9tICcuLi9tb2RlbC9maWxlLmpzJztcclxuXHJcbmlmICghcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdEQVRBQkFTRV9VUkwgbXVzdCBiZSBzZXQnKTtcclxufVxyXG5cclxuY29uc3Qgc3FsID0gbmVvbihwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpO1xyXG5leHBvcnQgY29uc3QgZGIgPSBkcml6emxlKHNxbCwge1xyXG4gIHNjaGVtYTogeyAuLi5maWxlU2NoZW1hIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGI7Il19