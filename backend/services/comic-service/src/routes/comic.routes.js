import { Router } from "express";
import { getComics, getComic, getComicPages, updateReadingProgress, getReadingHistory, addComicReview } from "../controller/comic.js";
import { createComic, updateComic, getCreatorComics, addComicPages, getComicPages as getCreatorComicPages, deleteComic, getCreatorStats } from "../controller/creator-comic.js";
import { authenticate, optionalAuth } from "../middleware/auth.js";
const router = Router();
// Public routes (no auth required)
router.get("/", getComics);
router.get("/:id", optionalAuth, getComic);
// Protected routes (auth required)
router.get("/:id/pages", optionalAuth, getComicPages);
router.post("/:id/progress", authenticate, updateReadingProgress);
router.get("/user/history", authenticate, getReadingHistory);
router.post("/:id/review", authenticate, addComicReview);
// Creator routes (auth required)
router.post("/creator", authenticate, createComic);
router.get("/creator/my-comics", authenticate, getCreatorComics);
router.get("/creator/stats", authenticate, getCreatorStats);
router.put("/creator/:id", authenticate, updateComic);
router.delete("/creator/:id", authenticate, deleteComic);
router.post("/creator/:id/pages", authenticate, addComicPages);
router.get("/creator/:id/pages", authenticate, getCreatorComicPages);
export default router;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29taWMucm91dGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY29taWMucm91dGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDakMsT0FBTyxFQUNMLFNBQVMsRUFDVCxRQUFRLEVBQ1IsYUFBYSxFQUNiLHFCQUFxQixFQUNyQixpQkFBaUIsRUFDakIsY0FBYyxFQUNmLE1BQU0sd0JBQXdCLENBQUM7QUFDaEMsT0FBTyxFQUNMLFdBQVcsRUFDWCxXQUFXLEVBQ1gsZ0JBQWdCLEVBQ2hCLGFBQWEsRUFDYixhQUFhLElBQUksb0JBQW9CLEVBQ3JDLFdBQVcsRUFDWCxlQUFlLEVBQ2hCLE1BQU0sZ0NBQWdDLENBQUM7QUFDeEMsT0FBTyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUVuRSxNQUFNLE1BQU0sR0FBRyxNQUFNLEVBQUUsQ0FBQztBQUV4QixtQ0FBbUM7QUFDbkMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDM0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsWUFBWSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBRTNDLG1DQUFtQztBQUNuQyxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxZQUFZLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDdEQsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsWUFBWSxFQUFFLHFCQUFxQixDQUFDLENBQUM7QUFDbEUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsWUFBWSxFQUFFLGlCQUFpQixDQUFDLENBQUM7QUFDN0QsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBRXpELGlDQUFpQztBQUNqQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxZQUFZLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDbkQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUNqRSxNQUFNLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLFlBQVksRUFBRSxlQUFlLENBQUMsQ0FBQztBQUM1RCxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxZQUFZLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDdEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsWUFBWSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ3pELE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQy9ELE1BQU0sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsWUFBWSxFQUFFLG9CQUFvQixDQUFDLENBQUM7QUFFckUsZUFBZSxNQUFNLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgeyBcclxuICBnZXRDb21pY3MsIFxyXG4gIGdldENvbWljLCBcclxuICBnZXRDb21pY1BhZ2VzLCBcclxuICB1cGRhdGVSZWFkaW5nUHJvZ3Jlc3MsIFxyXG4gIGdldFJlYWRpbmdIaXN0b3J5LFxyXG4gIGFkZENvbWljUmV2aWV3IFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVyL2NvbWljLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlQ29taWMsXHJcbiAgdXBkYXRlQ29taWMsXHJcbiAgZ2V0Q3JlYXRvckNvbWljcyxcclxuICBhZGRDb21pY1BhZ2VzLFxyXG4gIGdldENvbWljUGFnZXMgYXMgZ2V0Q3JlYXRvckNvbWljUGFnZXMsXHJcbiAgZGVsZXRlQ29taWMsXHJcbiAgZ2V0Q3JlYXRvclN0YXRzXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXIvY3JlYXRvci1jb21pYy5qc1wiO1xyXG5pbXBvcnQgeyBhdXRoZW50aWNhdGUsIG9wdGlvbmFsQXV0aCB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2F1dGguanNcIjtcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuLy8gUHVibGljIHJvdXRlcyAobm8gYXV0aCByZXF1aXJlZClcclxucm91dGVyLmdldChcIi9cIiwgZ2V0Q29taWNzKTtcclxucm91dGVyLmdldChcIi86aWRcIiwgb3B0aW9uYWxBdXRoLCBnZXRDb21pYyk7XHJcblxyXG4vLyBQcm90ZWN0ZWQgcm91dGVzIChhdXRoIHJlcXVpcmVkKVxyXG5yb3V0ZXIuZ2V0KFwiLzppZC9wYWdlc1wiLCBvcHRpb25hbEF1dGgsIGdldENvbWljUGFnZXMpO1xyXG5yb3V0ZXIucG9zdChcIi86aWQvcHJvZ3Jlc3NcIiwgYXV0aGVudGljYXRlLCB1cGRhdGVSZWFkaW5nUHJvZ3Jlc3MpO1xyXG5yb3V0ZXIuZ2V0KFwiL3VzZXIvaGlzdG9yeVwiLCBhdXRoZW50aWNhdGUsIGdldFJlYWRpbmdIaXN0b3J5KTtcclxucm91dGVyLnBvc3QoXCIvOmlkL3Jldmlld1wiLCBhdXRoZW50aWNhdGUsIGFkZENvbWljUmV2aWV3KTtcclxuXHJcbi8vIENyZWF0b3Igcm91dGVzIChhdXRoIHJlcXVpcmVkKVxyXG5yb3V0ZXIucG9zdChcIi9jcmVhdG9yXCIsIGF1dGhlbnRpY2F0ZSwgY3JlYXRlQ29taWMpO1xyXG5yb3V0ZXIuZ2V0KFwiL2NyZWF0b3IvbXktY29taWNzXCIsIGF1dGhlbnRpY2F0ZSwgZ2V0Q3JlYXRvckNvbWljcyk7XHJcbnJvdXRlci5nZXQoXCIvY3JlYXRvci9zdGF0c1wiLCBhdXRoZW50aWNhdGUsIGdldENyZWF0b3JTdGF0cyk7XHJcbnJvdXRlci5wdXQoXCIvY3JlYXRvci86aWRcIiwgYXV0aGVudGljYXRlLCB1cGRhdGVDb21pYyk7XHJcbnJvdXRlci5kZWxldGUoXCIvY3JlYXRvci86aWRcIiwgYXV0aGVudGljYXRlLCBkZWxldGVDb21pYyk7XHJcbnJvdXRlci5wb3N0KFwiL2NyZWF0b3IvOmlkL3BhZ2VzXCIsIGF1dGhlbnRpY2F0ZSwgYWRkQ29taWNQYWdlcyk7XHJcbnJvdXRlci5nZXQoXCIvY3JlYXRvci86aWQvcGFnZXNcIiwgYXV0aGVudGljYXRlLCBnZXRDcmVhdG9yQ29taWNQYWdlcyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il19