import { Router } from "express";
import { getEvents, getEvent, bookTickets, getUserBookings, getEventCategories, addEventReview } from "../controller/event.js";
import { authenticate, optionalAuth } from "../middleware/auth.js";
const router = Router();
// Public routes
router.get("/", getEvents);
router.get("/categories", getEventCategories);
router.get("/:id", optionalAuth, getEvent);
// Protected routes (auth required)
router.post("/:id/book", authenticate, bookTickets);
router.get("/user/bookings", authenticate, getUserBookings);
router.post("/:id/review", authenticate, addEventReview);
export default router;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQucm91dGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZXZlbnQucm91dGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDakMsT0FBTyxFQUNMLFNBQVMsRUFDVCxRQUFRLEVBQ1IsV0FBVyxFQUNYLGVBQWUsRUFDZixrQkFBa0IsRUFDbEIsY0FBYyxFQUNmLE1BQU0sd0JBQXdCLENBQUM7QUFDaEMsT0FBTyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUVuRSxNQUFNLE1BQU0sR0FBRyxNQUFNLEVBQUUsQ0FBQztBQUV4QixnQkFBZ0I7QUFDaEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDM0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztBQUM5QyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFFM0MsbUNBQW1DO0FBQ25DLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLFlBQVksRUFBRSxXQUFXLENBQUMsQ0FBQztBQUNwRCxNQUFNLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLFlBQVksRUFBRSxlQUFlLENBQUMsQ0FBQztBQUM1RCxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFFekQsZUFBZSxNQUFNLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHsgXG4gIGdldEV2ZW50cywgXG4gIGdldEV2ZW50LCBcbiAgYm9va1RpY2tldHMsIFxuICBnZXRVc2VyQm9va2luZ3MsXG4gIGdldEV2ZW50Q2F0ZWdvcmllcyxcbiAgYWRkRXZlbnRSZXZpZXcgXG59IGZyb20gXCIuLi9jb250cm9sbGVyL2V2ZW50LmpzXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUsIG9wdGlvbmFsQXV0aCB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2F1dGguanNcIjtcblxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG5cbi8vIFB1YmxpYyByb3V0ZXNcbnJvdXRlci5nZXQoXCIvXCIsIGdldEV2ZW50cyk7XG5yb3V0ZXIuZ2V0KFwiL2NhdGVnb3JpZXNcIiwgZ2V0RXZlbnRDYXRlZ29yaWVzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIG9wdGlvbmFsQXV0aCwgZ2V0RXZlbnQpO1xuXG4vLyBQcm90ZWN0ZWQgcm91dGVzIChhdXRoIHJlcXVpcmVkKVxucm91dGVyLnBvc3QoXCIvOmlkL2Jvb2tcIiwgYXV0aGVudGljYXRlLCBib29rVGlja2V0cyk7XG5yb3V0ZXIuZ2V0KFwiL3VzZXIvYm9va2luZ3NcIiwgYXV0aGVudGljYXRlLCBnZXRVc2VyQm9va2luZ3MpO1xucm91dGVyLnBvc3QoXCIvOmlkL3Jldmlld1wiLCBhdXRoZW50aWNhdGUsIGFkZEV2ZW50UmV2aWV3KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdfQ==